{% extends "bootstrap/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}



{% block head %}
  <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.1.3/cosmo/bootstrap.min.css" rel="stylesheet" integrity="sha384-3Ivskwia8Fui5tbQi+RW4DgTkJ8d+hW7mLe7Yk89ibmD9482VECh0WFof8kIEjwI" crossorigin="anonymous">
  <link rel="stylesheet"  href="{{ url_for('static',filename='editor.md-master/css/editormd.css') }}" />
<style>

body {
       background-color: #f0f8ff;
    }
.container{
        max-width: 1400px;
    }
#navi {
       background-color: #2780e3;
       margin-left: 5px;
       margin-right: 5px;
       padding-top: 10px;
       padding-left: 156px;
       height: 50px;
    }
    #navi li {

      display: inline;
      margin: 6px;
    }
    #navi a {
        color: white;
        text-decoration: none;
    }
    #first_a {
        font-size: 20px;
        padding-top: 0px;
    }
    #operation-group {
       float: right;
       width：100px;
       margin-right: 100px;
    }
</style>

{{ moment.include_moment() }}
{{ moment.locale('zh-cn') }}　

{% endblock %}

{% block content %}

   <div id="navi">
      <ul>
          <li><a href="/" id="first_a">Collection</a></li>
          <li><a href="/">首页</a></li>
          <li><a href="/new">发布</a></li>
      </ul>
  </div>
   <div class="container">
       <h1>{{ article.title }}</h1>
       <small>{{ moment(article.ct).format('LLL') }}</small>
       <br>
       <HR style="FILTER: progid:DXImageTransform.Microsoft.Shadow(color:#987cb9,direction:145,strength:15)" width="100%" color=#f1f1f1 SIZE=1>
       <div id="test-editormd-view">
            <textarea style="display:none;" name="test-editormd-html-doc">{{ article.body | safe  }}</textarea>
        </div>
       <div id="operation-group">
           <a href="/article/delete?id={{ article.id }}">删除</a>
           <a href="/article/update?id={{ article.id }}">修改</a>
       </div>

   </div>

<script src="https://cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/marked.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/prettify.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/raphael.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/underscore.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/sequence-diagram.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/flowchart.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/lib/jquery.flowchart.min.js') }}"></script>
<script src="{{ url_for('static',filename='editor.md-master/editormd.js') }}"></script>

<script type="text/javascript">
    var testEditor;
    $(function() {
        testEditor = editormd.markdownToHTML("test-editormd-view", {
            htmlDecode : "style,script,iframe",
            emoji : true,
            taskList : true,
            tex : true, // 默认不解析
            flowChart : true, // 默认不解析
            sequenceDiagram : true, // 默认不解析
            codeFold : true,

        });
    });
</script>
{% endblock %}